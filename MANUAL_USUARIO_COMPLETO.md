# üìö MANUAL DE USUARIO COMPLETO
## Sistema de Gesti√≥n DRTC Puno

**Versi√≥n:** 2.0  
**Fecha:** 26 de Diciembre, 2024  
**Estado:** Sistema Completamente Funcional

---

## üìã √çNDICE

1. [Introducci√≥n al Sistema](#introducci√≥n-al-sistema)
2. [Acceso y Autenticaci√≥n](#acceso-y-autenticaci√≥n)
3. [Navegaci√≥n General](#navegaci√≥n-general)
4. [M√≥dulos del Sistema](#m√≥dulos-del-sistema)
5. [Funcionalidades Avanzadas](#funcionalidades-avanzadas)
6. [Soluci√≥n de Problemas](#soluci√≥n-de-problemas)
7. [Preguntas Frecuentes](#preguntas-frecuentes)

---

## üéØ INTRODUCCI√ìN AL SISTEMA

### ¬øQu√© es el Sistema DRTC Puno?

El Sistema de Gesti√≥n DRTC Puno es una plataforma integral dise√±ada para la **Direcci√≥n Regional de Transportes y Comunicaciones de Puno**. Permite gestionar de manera eficiente:

- **Empresas de transporte** y su documentaci√≥n
- **Veh√≠culos** y sus autorizaciones (TUCs)
- **Conductores** y licencias
- **Rutas** autorizadas
- **Resoluciones** administrativas
- **Expedientes** y tr√°mites
- **Fiscalizaciones** y control

### Caracter√≠sticas Principales

‚úÖ **Interfaz moderna** - Dise√±o intuitivo y responsive  
‚úÖ **Datos en tiempo real** - Informaci√≥n actualizada constantemente  
‚úÖ **B√∫squeda inteligente** - Filtros avanzados en todos los m√≥dulos  
‚úÖ **Gesti√≥n completa** - CRUD completo para todas las entidades  
‚úÖ **Reportes** - Exportaci√≥n y an√°lisis de datos  
‚úÖ **Seguridad** - Autenticaci√≥n y control de acceso

---

## üîê ACCESO Y AUTENTICACI√ìN

### Requisitos del Sistema

**Navegadores Compatibles:**
- Google Chrome (recomendado)
- Mozilla Firefox
- Microsoft Edge
- Safari

**Resoluci√≥n M√≠nima:** 1024x768 px  
**Conexi√≥n:** Internet estable

### Credenciales de Acceso

**Para Administradores:**
```
DNI: 12345678
Contrase√±a: admin123
Rol: Administrador
```

### Proceso de Login

1. **Abrir el navegador** y dirigirse a: `http://localhost:4200`
2. **Ingresar credenciales** en los campos correspondientes
3. **Hacer clic** en "Iniciar Sesi√≥n"
4. **Verificar acceso** - Ser√°s redirigido al Dashboard principal

### Recuperaci√≥n de Contrase√±a

Si olvidas tu contrase√±a:
1. Contactar al administrador del sistema
2. Proporcionar tu DNI y datos de identificaci√≥n
3. El administrador generar√° una nueva contrase√±a temporal

---

## üß≠ NAVEGACI√ìN GENERAL

### Estructura de la Interfaz

El sistema cuenta con una **barra lateral izquierda** que contiene todos los m√≥dulos organizados por categor√≠as:

#### üìä **Gesti√≥n Principal**
- **Dashboard** - Vista general del sistema
- **Empresas** - Gesti√≥n de empresas de transporte
- **Veh√≠culos** - Control de flota vehicular
- **Conductores** - Gesti√≥n de personal conductor
- **TUCs** - Tarjetas √önicas de Circulaci√≥n

#### üöÄ **Operaciones**
- **Fiscalizaciones** - Control y supervisi√≥n
- **Rutas** - Gesti√≥n de rutas autorizadas
- **Resoluciones** - Documentos administrativos
- **Expedientes** - Tr√°mites y procesos
- **Mesa de Partes** - Recepci√≥n de documentos

#### üè¢ **Gesti√≥n de Oficinas**
- **Oficinas** - Administraci√≥n de sedes
- **Flujo de Expedientes** - Seguimiento de tr√°mites

#### üìà **Reportes**
- **Reportes** - An√°lisis y exportaci√≥n de datos

#### ‚öôÔ∏è **Sistema**
- **Configuraci√≥n** - Ajustes del sistema
- **Perfil** - Datos del usuario
- **Ayuda** - Documentaci√≥n y soporte

### Navegaci√≥n B√°sica

**Expandir/Contraer Men√∫:** Clic en el √≠cono de hamburguesa  
**Ir a un m√≥dulo:** Clic en el elemento del men√∫  
**Volver atr√°s:** Usar el bot√≥n "Volver" o navegador  
**Cerrar sesi√≥n:** Men√∫ de perfil ‚Üí "Cerrar Sesi√≥n"
---

## üè¢ M√ìDULOS DEL SISTEMA

### 1. üìä DASHBOARD

**Prop√≥sito:** Vista general del estado del sistema con m√©tricas clave.

**Funcionalidades:**
- **Estad√≠sticas generales** - Totales de empresas, veh√≠culos, resoluciones
- **Gr√°ficos din√°micos** - Visualizaci√≥n de datos en tiempo real
- **Alertas importantes** - Notificaciones de vencimientos y pendientes
- **Accesos r√°pidos** - Enlaces directos a funciones frecuentes

**C√≥mo usar:**
1. Al iniciar sesi√≥n, ser√°s dirigido autom√°ticamente al Dashboard
2. Revisa las m√©tricas principales en las tarjetas superiores
3. Utiliza los gr√°ficos para an√°lisis visual
4. Haz clic en "Ver m√°s" para acceder a m√≥dulos espec√≠ficos

---

### 2. üè¢ GESTI√ìN DE EMPRESAS

**Prop√≥sito:** Administrar empresas de transporte y su informaci√≥n completa.

#### Funcionalidades Principales

**‚úÖ Crear Nueva Empresa**
1. Clic en "Nueva Empresa" (bot√≥n azul con √≠cono +)
2. Completar formulario con datos obligatorios:
   - **RUC** (11 d√≠gitos)
   - **Raz√≥n Social**
   - **Direcci√≥n Fiscal**
   - **Representante Legal** (DNI, nombres, apellidos)
3. Agregar informaci√≥n opcional:
   - Email de contacto
   - Tel√©fono
   - Sitio web
4. Clic en "Guardar Empresa"

**‚úÖ Buscar y Filtrar Empresas**
- **B√∫squeda r√°pida:** Campo superior para buscar por RUC o raz√≥n social
- **Filtros avanzados:** Estado, tipo de empresa, fecha de registro
- **Ordenamiento:** Por nombre, fecha, estado

**‚úÖ Ver Detalles de Empresa**
1. Clic en "Ver Detalles" en cualquier empresa de la lista
2. **Pesta√±a "Informaci√≥n General":**
   - Datos b√°sicos de la empresa
   - Informaci√≥n del representante legal
   - Datos de contacto
   - C√≥digo de empresa (formato XXXXYYY)

3. **Pesta√±a "Gesti√≥n":**
   - **Resoluciones:** Crear y gestionar resoluciones (muestra cantidad actual)
   - **Veh√≠culos:** Agregar y administrar flota (muestra **conteo correcto**)
   - **Conductores:** Gestionar personal conductor
   - **Rutas:** Administrar rutas autorizadas

4. **Pesta√±a "Documentos":**
   - Documentos legales de la empresa
   - Estados de vigencia
   - Fechas de vencimiento

**‚úÖ Editar Empresa**
1. En los detalles de la empresa, clic en "Editar"
2. Modificar los campos necesarios
3. Guardar cambios

**‚úÖ Gesti√≥n Avanzada**
- **Historial de Transferencias:** Ver movimientos de veh√≠culos entre empresas
- **Bajas Vehiculares:** Gestionar veh√≠culos dados de baja
- **Estad√≠sticas:** M√©tricas espec√≠ficas por empresa

#### Caracter√≠sticas Especiales

**üîç C√≥digo de Empresa Visual**
- Formato: **XXXXYYY** (4 n√∫meros + 3 letras)
- Ejemplo: **0123PRT**
- Colores por tipo:
  - **Verde:** Personas (P)
  - **Azul:** Regional (R)  
  - **Naranja:** Turismo (T)

**üìä Conteo Correcto de Veh√≠culos**
- El sistema ahora muestra el **n√∫mero real** de veh√≠culos por empresa
- Suma veh√≠culos de **todas las resoluciones** de la empresa
- Evita duplicados autom√°ticamente

---

### 3. üöó GESTI√ìN DE VEH√çCULOS

**Prop√≥sito:** Control completo de la flota vehicular autorizada.

#### Funcionalidades Principales

**‚úÖ Registrar Nuevo Veh√≠culo**
1. Clic en "Nuevo Veh√≠culo"
2. Completar datos del veh√≠culo:
   - **Placa** (formato XXX-123 o similar)
   - **Marca y Modelo**
   - **A√±o de fabricaci√≥n**
   - **N√∫mero de motor**
   - **N√∫mero de chasis**
   - **Color**
   - **Capacidad de pasajeros**
3. Asociar a empresa y resoluci√≥n
4. Subir documentos requeridos
5. Guardar registro

**‚úÖ B√∫squeda y Filtros**
- **Por placa:** B√∫squeda exacta o parcial
- **Por empresa:** Filtrar veh√≠culos de una empresa espec√≠fica
- **Por estado:** Activo, suspendido, dado de baja
- **Por resoluci√≥n:** Veh√≠culos de una resoluci√≥n espec√≠fica

**‚úÖ Gesti√≥n de TUCs**
- **Generar TUC:** Para veh√≠culos autorizados
- **Renovar TUC:** Proceso de renovaci√≥n
- **Consultar estado:** Verificar vigencia
- **Imprimir:** Generar documento f√≠sico

**‚úÖ Estados del Veh√≠culo**
- **üü¢ Activo:** Operando normalmente
- **üü° Suspendido:** Temporalmente inhabilitado
- **üî¥ Dado de Baja:** Retirado del servicio
- **‚ö™ En Tr√°mite:** Proceso de autorizaci√≥n pendiente

#### Operaciones Especiales

**üîÑ Transferencia de Veh√≠culos**
1. Seleccionar veh√≠culo a transferir
2. Elegir empresa destino
3. Completar documentaci√≥n
4. Confirmar transferencia

**üìã Carga Masiva**
1. Descargar plantilla Excel
2. Completar datos de m√∫ltiples veh√≠culos
3. Subir archivo
4. Revisar y confirmar importaci√≥n

---

### 4. üë• GESTI√ìN DE CONDUCTORES

**Prop√≥sito:** Administrar personal conductor autorizado.

#### Funcionalidades Principales

**‚úÖ Registrar Conductor**
1. Datos personales (DNI, nombres, apellidos)
2. Informaci√≥n de licencia de conducir
3. Categor√≠as autorizadas
4. Fecha de vencimiento
5. Asociaci√≥n con empresa

**‚úÖ Control de Licencias**
- **Verificar vigencia:** Alertas de vencimiento
- **Renovaciones:** Proceso de actualizaci√≥n
- **Categor√≠as:** A1, A2a, A2b, A3a, A3b, A3c
- **Restricciones:** Limitaciones espec√≠ficas

**‚úÖ Asignaci√≥n a Veh√≠culos**
- Vincular conductores con veh√≠culos espec√≠ficos
- Control de horarios y turnos
- Historial de asignaciones

---

### 5. üõ£Ô∏è GESTI√ìN DE RUTAS

**Prop√≥sito:** Administrar rutas autorizadas y permisos de circulaci√≥n.

#### Funcionalidades Principales

**‚úÖ Crear Nueva Ruta**
1. Clic en "Nueva Ruta"
2. Seleccionar **empresa** (obligatorio)
3. Seleccionar **resoluci√≥n** (obligatorio)
4. Completar informaci√≥n de la ruta:
   - **Origen:** Ciudad/distrito de inicio
   - **Destino:** Ciudad/distrito de llegada
   - **Recorrido:** Descripci√≥n detallada del trayecto
   - **Distancia:** Kil√≥metros totales
   - **Tiempo estimado:** Duraci√≥n del viaje
5. Guardar ruta

**‚úÖ Filtros Mejorados** ‚≠ê *Funcionalidad Destacada*
- **Por Empresa:** Dropdown con todas las empresas disponibles
- **Por Resoluci√≥n:** Dropdown que se actualiza seg√∫n la empresa seleccionada
- **B√∫squeda Inteligente:** Por origen, destino o descripci√≥n
- **Filtrado en Tiempo Real:** Resultados instant√°neos

**C√≥mo usar los filtros:**
1. **Seleccionar Empresa:** El dropdown muestra todas las empresas registradas
2. **Seleccionar Resoluci√≥n:** Se actualiza autom√°ticamente con las resoluciones de la empresa
3. **Buscar:** Escribir en el campo de b√∫squeda para filtrar por origen/destino
4. **Limpiar:** Bot√≥n para resetear todos los filtros

**‚úÖ Gesti√≥n de Rutas**
- **Ver detalles:** Informaci√≥n completa de la ruta
- **Editar ruta:** Modificar datos existentes
- **Eliminar ruta:** Dar de baja rutas no utilizadas
- **Duplicar ruta:** Crear ruta similar basada en una existente

#### Caracter√≠sticas Especiales

**üîç B√∫squeda Inteligente con Datos Reales**
- Conecta directamente con la base de datos
- Sin datos ficticios o de prueba
- Resultados actualizados en tiempo real
- Logging detallado para diagn√≥stico (F12 en navegador)

**üìä Estad√≠sticas por Ruta**
- N√∫mero de veh√≠culos asignados
- Frecuencia de servicios
- Empresas operadoras
- Estado de autorizaci√≥n

---

### 6. üìã GESTI√ìN DE RESOLUCIONES

**Prop√≥sito:** Administrar resoluciones administrativas y autorizaciones.

#### Funcionalidades Principales

**‚úÖ Crear Nueva Resoluci√≥n**
1. Clic en "Nueva Resoluci√≥n"
2. **Seleccionar Empresa:** Usar el selector con b√∫squeda inteligente
3. **Seleccionar Expediente:** Elegir el expediente asociado
4. **Tipo de Resoluci√≥n:** Se determina autom√°ticamente seg√∫n el expediente
5. **Completar datos:**
   - **N√∫mero de resoluci√≥n:** Formato autom√°tico (R-XXXX-YYYY)
   - **Fecha de emisi√≥n**
   - **Descripci√≥n:** Puede generarse autom√°ticamente
   - **Observaciones:** Opcional

**‚úÖ Dropdown de Resoluciones Padre** ‚≠ê *Funcionalidad Destacada*

Para expedientes tipo **INCREMENTO**:
1. Al seleccionar un expediente INCREMENTO, aparece el campo "RESOLUCI√ìN PADRE"
2. El dropdown muestra **todas las resoluciones padre disponibles** de la empresa
3. **Ejemplo:** Para empresa "21212121212 - VVVVVV" muestra 5 opciones:
   - R-0001-2025 (Vence: 2030-12-22)
   - R-0002-2025 (Vence: 2029-12-21)
   - R-0003-2025 (Vence: 2030-12-21)
   - R-0004-2025 (Vence: 2028-12-21)
   - R-0005-2025 (Vence: 2030-12-21)

**Criterios de filtrado autom√°tico:**
- Solo resoluciones de la empresa seleccionada
- Solo resoluciones tipo "PADRE"
- Solo resoluciones con estado "VIGENTE"
- Solo resoluciones activas
- Solo resoluciones no vencidas

**‚úÖ Filtros Simplificados** ‚≠ê *Interfaz Optimizada*
- **B√∫squeda:** Por n√∫mero de resoluci√≥n
- **Estado:** Vigente/Vencida
- **Bot√≥n Limpiar:** Reset completo
- **B√∫squeda en tiempo real:** Resultados instant√°neos (300ms debounce)

**‚úÖ Vista Jer√°rquica**
- **Resoluciones Padre:** Mostradas como tarjetas principales
- **Resoluciones Hijas:** Agrupadas bajo su resoluci√≥n padre
- **Estad√≠sticas:** N√∫mero de veh√≠culos y rutas por resoluci√≥n
- **Estados visuales:** Chips de colores por estado

#### Tipos de Resoluciones

**üü¢ PRIMIGENIA (PADRE)**
- Primera autorizaci√≥n de la empresa
- Establece fechas de vigencia propias
- Puede tener resoluciones hijas

**üü° RENOVACI√ìN (PADRE)**
- Renueva una autorizaci√≥n existente
- Nuevas fechas de vigencia
- Puede referenciar resoluci√≥n anterior

**üîµ INCREMENTO (HIJA)**
- Agrega veh√≠culos a una resoluci√≥n padre
- Hereda fechas de vigencia del padre
- **Requiere seleccionar resoluci√≥n padre** (opcional pero recomendado)

**üü† SUSTITUCI√ìN (HIJA)**
- Reemplaza veh√≠culos en una resoluci√≥n padre
- Hereda fechas de vigencia del padre
- Puede referenciar resoluci√≥n primigenia

#### Caracter√≠sticas Especiales

**üìÖ C√°lculo Autom√°tico de Fechas**
- Las resoluciones padre establecen sus propias fechas
- Las resoluciones hijas heredan fechas del padre
- C√°lculo autom√°tico de fecha de vencimiento

**üîç Logging Detallado**
- Informaci√≥n completa en consola del navegador (F12)
- Diagn√≥stico de filtrado paso a paso
- Identificaci√≥n de problemas en tiempo real

---

### 7. üìÅ GESTI√ìN DE EXPEDIENTES

**Prop√≥sito:** Administrar tr√°mites y procesos administrativos.

#### Funcionalidades Principales

**‚úÖ Crear Nuevo Expediente**
1. Datos b√°sicos del expediente
2. Tipo de tr√°mite:
   - **AUTORIZACION_NUEVA:** Primera autorizaci√≥n
   - **RENOVACION:** Renovar autorizaci√≥n existente
   - **INCREMENTO:** Agregar veh√≠culos
   - **SUSTITUCION:** Reemplazar veh√≠culos
   - **OTROS:** Otros tr√°mites
3. Asociaci√≥n con empresa
4. Documentos requeridos
5. Estado del tr√°mite

**‚úÖ Seguimiento de Expedientes**
- **Estados:** En tr√°mite, aprobado, observado, rechazado
- **Historial:** Registro de movimientos y cambios
- **Notificaciones:** Alertas de vencimientos y actualizaciones
- **Documentos:** Gesti√≥n de archivos adjuntos

**‚úÖ Flujo de Trabajo**
- **Mesa de Partes:** Recepci√≥n inicial
- **Evaluaci√≥n T√©cnica:** Revisi√≥n especializada
- **Aprobaci√≥n:** Autorizaci√≥n final
- **Emisi√≥n:** Generaci√≥n de resoluci√≥n

---

### 8. üîç FISCALIZACIONES

**Prop√≥sito:** Control y supervisi√≥n del cumplimiento normativo.

#### Funcionalidades Principales

**‚úÖ Programar Fiscalizaci√≥n**
- Selecci√≥n de empresa/veh√≠culo objetivo
- Fecha y hora programada
- Tipo de fiscalizaci√≥n
- Inspector asignado

**‚úÖ Registro de Infracciones**
- Tipo de infracci√≥n
- Descripci√≥n detallada
- Evidencias fotogr√°ficas
- Medidas correctivas

**‚úÖ Seguimiento de Sanciones**
- Estado de multas
- Pagos realizados
- Recursos de apelaci√≥n
- Resoluciones finales

---

### 9. üìä REPORTES Y ESTAD√çSTICAS

**Prop√≥sito:** An√°lisis de datos y generaci√≥n de informes.

#### Tipos de Reportes

**‚úÖ Reportes de Empresas**
- Listado completo de empresas
- Empresas por estado
- Empresas por tipo de servicio
- Estad√≠sticas de crecimiento

**‚úÖ Reportes de Veh√≠culos**
- Flota total por empresa
- Veh√≠culos por estado
- Vencimientos de TUCs
- Antig√ºedad de flota

**‚úÖ Reportes de Resoluciones**
- Resoluciones emitidas por per√≠odo
- Resoluciones por tipo
- Resoluciones pr√≥ximas a vencer
- Estad√≠sticas de aprobaci√≥n

**‚úÖ Exportaci√≥n de Datos**
- **Excel:** Para an√°lisis detallado
- **PDF:** Para documentos oficiales
- **CSV:** Para integraci√≥n con otros sistemas

#### C√≥mo Generar Reportes

1. Ir al m√≥dulo "Reportes"
2. Seleccionar tipo de reporte
3. Configurar filtros y par√°metros
4. Elegir formato de exportaci√≥n
5. Descargar archivo generado
---

## üöÄ FUNCIONALIDADES AVANZADAS

### 1. üîç B√∫squeda Inteligente

**Disponible en todos los m√≥dulos principales**

#### Caracter√≠sticas:
- **B√∫squeda en tiempo real:** Resultados mientras escribes
- **M√∫ltiples campos:** Busca en varios campos simult√°neamente
- **Autocompletado:** Sugerencias autom√°ticas
- **Filtros combinados:** M√∫ltiples criterios de b√∫squeda

#### Ejemplos de uso:
**En Empresas:**
- Buscar por RUC: "20123456789"
- Buscar por raz√≥n social: "Transportes San Mart√≠n"
- Buscar por c√≥digo: "0123PRT"

**En Veh√≠culos:**
- Buscar por placa: "ABC-123"
- Buscar por marca: "Toyota"
- Buscar por empresa: "Transportes"

**En Resoluciones:**
- Buscar por n√∫mero: "R-0001-2025"
- Buscar por estado: "VIGENTE"
- Buscar combinado: "RD-2024 VIGENTE"

### 2. üì± Interfaz Responsive

**El sistema se adapta a diferentes dispositivos:**

#### Escritorio (1200px+):
- Men√∫ lateral expandido
- Tablas completas con todas las columnas
- Formularios en m√∫ltiples columnas

#### Tablet (768px - 1199px):
- Men√∫ lateral colapsable
- Tablas adaptadas con scroll horizontal
- Formularios reorganizados

#### M√≥vil (< 768px):
- Men√∫ lateral oculto (hamburguesa)
- Tablas en formato de tarjetas
- Formularios en una sola columna

### 3. üé® Personalizaci√≥n de Interfaz

#### Temas Disponibles:
- **Claro:** Fondo blanco, ideal para uso diurno
- **Oscuro:** Fondo oscuro, reduce fatiga visual

#### Configuraci√≥n de Vista:
- **Densidad de tabla:** Compacta, normal, espaciosa
- **Tama√±o de fuente:** Peque√±a, normal, grande
- **Animaciones:** Activar/desactivar efectos

### 4. üîî Sistema de Notificaciones

#### Tipos de Notificaciones:
- **‚úÖ √âxito:** Operaciones completadas correctamente
- **‚ö†Ô∏è Advertencia:** Situaciones que requieren atenci√≥n
- **‚ùå Error:** Problemas que impiden la operaci√≥n
- **‚ÑπÔ∏è Informaci√≥n:** Mensajes informativos generales

#### Configuraci√≥n:
- **Duraci√≥n:** Tiempo de visualizaci√≥n
- **Posici√≥n:** Esquina superior derecha (por defecto)
- **Sonido:** Activar/desactivar alertas sonoras

### 5. üìä Dashboard Personalizable

#### Widgets Disponibles:
- **M√©tricas principales:** Totales de entidades
- **Gr√°ficos de tendencias:** Evoluci√≥n temporal
- **Alertas importantes:** Vencimientos pr√≥ximos
- **Accesos r√°pidos:** Enlaces a funciones frecuentes

#### Personalizaci√≥n:
1. Clic en "Personalizar Dashboard"
2. Arrastrar y soltar widgets
3. Redimensionar elementos
4. Guardar configuraci√≥n

### 6. üîÑ Sincronizaci√≥n en Tiempo Real

#### Caracter√≠sticas:
- **Actualizaciones autom√°ticas:** Los datos se refrescan autom√°ticamente
- **Notificaciones de cambios:** Alertas cuando otros usuarios modifican datos
- **Estado de conexi√≥n:** Indicador de conectividad
- **Modo offline:** Funcionalidad limitada sin conexi√≥n

### 7. üìã Gesti√≥n de Formularios Inteligente

#### Validaci√≥n en Tiempo Real:
- **Campos obligatorios:** Marcados con asterisco (*)
- **Formatos espec√≠ficos:** RUC, DNI, placas, etc.
- **Validaci√≥n cruzada:** Verificaci√≥n entre campos relacionados
- **Mensajes de error:** Explicaciones claras de problemas

#### Autocompletado:
- **Datos SUNAT:** Informaci√≥n autom√°tica de empresas por RUC
- **Historial:** Sugerencias basadas en datos anteriores
- **Validaci√≥n externa:** Verificaci√≥n con bases de datos oficiales

### 8. üîê Control de Acceso Granular

#### Roles del Sistema:
- **Administrador:** Acceso completo a todas las funciones
- **Supervisor:** Gesti√≥n de m√≥dulos espec√≠ficos
- **Operador:** Funciones b√°sicas de consulta y registro
- **Consulta:** Solo lectura de informaci√≥n

#### Permisos por M√≥dulo:
- **Crear:** Agregar nuevos registros
- **Leer:** Consultar informaci√≥n existente
- **Actualizar:** Modificar datos existentes
- **Eliminar:** Dar de baja registros

---

## üõ†Ô∏è SOLUCI√ìN DE PROBLEMAS

### Problemas Comunes y Soluciones

#### 1. üö´ No puedo iniciar sesi√≥n

**Posibles causas y soluciones:**

**‚ùå Credenciales incorrectas:**
- Verificar DNI y contrase√±a
- Asegurarse de no tener Caps Lock activado
- Contactar al administrador para reset de contrase√±a

**‚ùå Problema de conexi√≥n:**
- Verificar conexi√≥n a internet
- Comprobar que el servidor est√© funcionando
- Intentar desde otro navegador

**‚ùå Cuenta bloqueada:**
- Contactar al administrador del sistema
- Proporcionar DNI para desbloqueo

#### 2. üìä Los datos no se cargan

**Posibles causas y soluciones:**

**‚ùå Problema de red:**
- Verificar conexi√≥n a internet
- Refrescar la p√°gina (F5)
- Limpiar cach√© del navegador

**‚ùå Filtros muy restrictivos:**
- Revisar filtros aplicados
- Usar el bot√≥n "Limpiar filtros"
- Ampliar criterios de b√∫squeda

**‚ùå Problema del servidor:**
- Esperar unos minutos y reintentar
- Contactar soporte t√©cnico
- Verificar estado del sistema

#### 3. üîÑ El sistema est√° lento

**Posibles causas y soluciones:**

**‚ùå Muchas pesta√±as abiertas:**
- Cerrar pesta√±as innecesarias
- Reiniciar el navegador
- Usar solo una sesi√≥n del sistema

**‚ùå Cach√© del navegador:**
- Limpiar cach√© y cookies
- Usar modo inc√≥gnito para probar
- Actualizar el navegador

**‚ùå Conexi√≥n lenta:**
- Verificar velocidad de internet
- Cerrar otras aplicaciones que usen internet
- Contactar al proveedor de internet

#### 4. üìù No puedo guardar cambios

**Posibles causas y soluciones:**

**‚ùå Campos obligatorios vac√≠os:**
- Revisar campos marcados con asterisco (*)
- Completar toda la informaci√≥n requerida
- Verificar formatos de datos (RUC, DNI, etc.)

**‚ùå Permisos insuficientes:**
- Verificar rol de usuario
- Contactar administrador para permisos
- Intentar con otro usuario autorizado

**‚ùå Datos duplicados:**
- Verificar que no exista informaci√≥n similar
- Revisar n√∫meros de documento √∫nicos
- Modificar datos para evitar duplicaci√≥n

#### 5. üñ®Ô∏è Problemas de impresi√≥n/exportaci√≥n

**Posibles causas y soluciones:**

**‚ùå Bloqueador de pop-ups:**
- Permitir pop-ups para el sitio
- Desactivar bloqueadores temporalmente
- Usar otro navegador

**‚ùå Problema de permisos:**
- Verificar permisos de descarga
- Cambiar carpeta de descargas
- Ejecutar navegador como administrador

### C√≥digos de Error Comunes

#### Error 401 - No autorizado
- **Causa:** Sesi√≥n expirada o credenciales inv√°lidas
- **Soluci√≥n:** Cerrar sesi√≥n y volver a iniciar

#### Error 403 - Acceso denegado
- **Causa:** Permisos insuficientes para la operaci√≥n
- **Soluci√≥n:** Contactar administrador para permisos

#### Error 404 - No encontrado
- **Causa:** Recurso eliminado o URL incorrecta
- **Soluci√≥n:** Verificar navegaci√≥n o refrescar p√°gina

#### Error 500 - Error del servidor
- **Causa:** Problema interno del sistema
- **Soluci√≥n:** Contactar soporte t√©cnico

### Herramientas de Diagn√≥stico

#### 1. üîç Consola del Navegador (F12)
- **Acceso:** Presionar F12 en el navegador
- **Pesta√±a Console:** Ver mensajes de error y logging
- **Pesta√±a Network:** Verificar llamadas al servidor
- **Pesta√±a Application:** Revisar datos almacenados

#### 2. üè• Health Check del Sistema
- **URL:** `http://localhost:8000/health`
- **Prop√≥sito:** Verificar estado del backend
- **Respuesta esperada:** Status 200 con mensaje de √©xito

#### 3. üìö Documentaci√≥n de API
- **URL:** `http://localhost:8000/docs`
- **Prop√≥sito:** Probar endpoints directamente
- **Uso:** Para desarrolladores y soporte t√©cnico

---

## ‚ùì PREGUNTAS FRECUENTES

### Generales

**‚ùì ¬øPuedo usar el sistema desde mi celular?**
‚úÖ S√≠, el sistema es completamente responsive y funciona en dispositivos m√≥viles.

**‚ùì ¬øSe guardan autom√°ticamente los cambios?**
‚ùå No, debes hacer clic en "Guardar" para confirmar los cambios.

**‚ùì ¬øPuedo trabajar sin conexi√≥n a internet?**
‚ùå No, el sistema requiere conexi√≥n constante para funcionar correctamente.

**‚ùì ¬øCu√°nto tiempo dura mi sesi√≥n?**
‚è∞ Las sesiones duran 8 horas de inactividad, despu√©s debes volver a iniciar sesi√≥n.

### Empresas

**‚ùì ¬øC√≥mo obtengo el c√≥digo de empresa?**
üìã El c√≥digo se genera autom√°ticamente al registrar la empresa, formato XXXXYYY.

**‚ùì ¬øPuedo cambiar el RUC de una empresa?**
‚ùå No, el RUC es inmutable. Debes crear una nueva empresa si hay error.

**‚ùì ¬øPor qu√© no aparecen todos los veh√≠culos de mi empresa?**
üîç Verifica que los veh√≠culos est√©n asociados a resoluciones vigentes de la empresa.

### Veh√≠culos

**‚ùì ¬øQu√© formato debe tener la placa?**
üöó Formatos aceptados: ABC-123, ABC-1234, XXX-123 (seg√∫n normativa vigente).

**‚ùì ¬øPuedo transferir un veh√≠culo entre empresas?**
‚úÖ S√≠, usa la funci√≥n "Transferir Veh√≠culo" en el m√≥dulo de veh√≠culos.

**‚ùì ¬øC√≥mo renuevo un TUC vencido?**
üìã En el detalle del veh√≠culo, clic en "Renovar TUC" y seguir el proceso.

### Resoluciones

**‚ùì ¬øPor qu√© no aparecen resoluciones padre en el dropdown?**
üîç Verifica que:
- La empresa tenga resoluciones tipo PADRE
- Las resoluciones est√©n en estado VIGENTE
- Las resoluciones no est√©n vencidas

**‚ùì ¬øPuedo modificar una resoluci√≥n ya emitida?**
‚ö†Ô∏è Solo ciertos campos pueden modificarse. Contacta al supervisor para cambios importantes.

**‚ùì ¬øQu√© diferencia hay entre resoluci√≥n PADRE e HIJA?**
üìã PADRE establece fechas propias, HIJA hereda fechas de su resoluci√≥n padre.

### Rutas

**‚ùì ¬øPor qu√© no aparecen rutas al filtrar?**
üîç Verifica que:
- La empresa seleccionada tenga rutas registradas
- La resoluci√≥n seleccionada tenga rutas asociadas
- Los filtros no sean muy restrictivos

**‚ùì ¬øPuedo crear rutas sin resoluci√≥n?**
‚ùå No, toda ruta debe estar asociada a una resoluci√≥n vigente.

### T√©cnicas

**‚ùì ¬øQu√© navegador es mejor para usar el sistema?**
üåê Google Chrome es el recomendado, pero tambi√©n funciona en Firefox y Edge.

**‚ùì ¬øC√≥mo limpio la cach√© del navegador?**
üßπ Ctrl+Shift+Delete ‚Üí Seleccionar "Cach√©" ‚Üí Eliminar datos.

**‚ùì ¬øD√≥nde encuentro los logs del sistema?**
üîç Presiona F12 ‚Üí Pesta√±a "Console" para ver logs detallados.

---

## üìû SOPORTE T√âCNICO

### Informaci√≥n de Contacto

**üè¢ Direcci√≥n Regional de Transportes y Comunicaciones - Puno**
- **Direcci√≥n:** [Direcci√≥n de la oficina]
- **Tel√©fono:** [N√∫mero de tel√©fono]
- **Email:** [Email de soporte]
- **Horario:** Lunes a Viernes, 8:00 AM - 5:00 PM

### Canales de Soporte

#### 1. üé´ Mesa de Ayuda
- **Para:** Problemas t√©cnicos generales
- **Tiempo de respuesta:** 2-4 horas h√°biles
- **Informaci√≥n requerida:**
  - Descripci√≥n del problema
  - Pasos para reproducir el error
  - Capturas de pantalla (si aplica)
  - Navegador y versi√≥n utilizada

#### 2. üìß Soporte por Email
- **Para:** Consultas detalladas y reportes de bugs
- **Tiempo de respuesta:** 24-48 horas h√°biles
- **Incluir:**
  - Usuario afectado (DNI)
  - M√≥dulo donde ocurre el problema
  - Logs de la consola (F12)

#### 3. üìû Soporte Telef√≥nico
- **Para:** Problemas urgentes que impiden el trabajo
- **Horario:** Lunes a Viernes, 9:00 AM - 4:00 PM
- **Tener a mano:**
  - Credenciales de acceso
  - Descripci√≥n clara del problema
  - Computadora con acceso al sistema

#### 4. üè¢ Soporte Presencial
- **Para:** Capacitaci√≥n y problemas complejos
- **Modalidad:** Cita previa
- **Incluye:**
  - Capacitaci√≥n personalizada
  - Configuraci√≥n de equipos
  - Resoluci√≥n de problemas complejos

### Informaci√≥n para Reportar Problemas

**Datos b√°sicos requeridos:**
- **Usuario:** DNI del usuario afectado
- **Fecha y hora:** Cu√°ndo ocurri√≥ el problema
- **M√≥dulo:** D√≥nde se present√≥ el error
- **Acci√≥n:** Qu√© estaba haciendo cuando ocurri√≥
- **Error:** Mensaje de error exacto (si existe)
- **Navegador:** Chrome, Firefox, Edge, etc.
- **Sistema operativo:** Windows, Mac, Linux

**Informaci√≥n adicional √∫til:**
- Capturas de pantalla del error
- Logs de la consola del navegador (F12)
- Pasos exactos para reproducir el problema
- Si el problema es recurrente o espor√°dico

---

## üìö RECURSOS ADICIONALES

### Documentaci√≥n T√©cnica

- **üìã API Documentation:** `http://localhost:8000/docs`
- **üîß Health Check:** `http://localhost:8000/health`
- **üìä System Status:** Dashboard de estado del sistema

### Capacitaci√≥n

#### üéì Cursos Disponibles:
1. **Introducci√≥n al Sistema** (2 horas)
2. **Gesti√≥n de Empresas Avanzada** (3 horas)
3. **Administraci√≥n de Resoluciones** (4 horas)
4. **Reportes y An√°lisis** (2 horas)
5. **Administraci√≥n del Sistema** (6 horas)

#### üìπ Videos Tutoriales:
- Acceso b√°sico al sistema
- Creaci√≥n de empresas paso a paso
- Gesti√≥n de veh√≠culos y TUCs
- Uso de filtros avanzados
- Generaci√≥n de reportes

### Actualizaciones del Sistema

#### üîÑ Historial de Versiones:
- **v2.0** (Diciembre 2024): Dropdown resoluciones padre, conteo veh√≠culos corregido
- **v1.9** (Noviembre 2024): Filtros mejorados en rutas y resoluciones
- **v1.8** (Octubre 2024): Interfaz responsive y b√∫squeda inteligente

#### üì¢ Pr√≥ximas Mejoras:
- Integraci√≥n con SUNAT en tiempo real
- Aplicaci√≥n m√≥vil nativa
- Notificaciones push
- Dashboard ejecutivo avanzado

---

## üìã ANEXOS

### Anexo A: Formatos de Datos

#### RUC (Registro √önico de Contribuyentes):
- **Formato:** 11 d√≠gitos num√©ricos
- **Ejemplo:** 20123456789
- **Validaci√≥n:** Algoritmo de d√≠gito verificador

#### DNI (Documento Nacional de Identidad):
- **Formato:** 8 d√≠gitos num√©ricos
- **Ejemplo:** 12345678
- **Validaci√≥n:** Rango v√°lido y formato

#### Placas de Veh√≠culos:
- **Formato Antiguo:** ABC-123 (3 letras + 3 n√∫meros)
- **Formato Nuevo:** ABC-123D (3 letras + 3 n√∫meros + 1 letra)
- **Ejemplo:** PLT-456, XYZ-789A

#### C√≥digos de Empresa:
- **Formato:** XXXXYYY (4 n√∫meros + 3 letras)
- **Ejemplo:** 0123PRT
- **Significado:** N√∫mero secuencial + Tipo de servicio

### Anexo B: Estados del Sistema

#### Estados de Empresa:
- **üü¢ HABILITADA:** Operando normalmente
- **üü° EN_TRAMITE:** Proceso de autorizaci√≥n
- **üî¥ SUSPENDIDA:** Temporalmente inhabilitada
- **‚ö´ CANCELADA:** Definitivamente inhabilitada

#### Estados de Veh√≠culo:
- **üü¢ ACTIVO:** Operando normalmente
- **üü° EN_TRAMITE:** Proceso de autorizaci√≥n
- **üî¥ SUSPENDIDO:** Temporalmente inhabilitado
- **‚ö´ DADO_DE_BAJA:** Retirado del servicio

#### Estados de Resoluci√≥n:
- **üü¢ VIGENTE:** V√°lida y operativa
- **üü° PROXIMA_A_VENCER:** Vence en menos de 30 d√≠as
- **üî¥ VENCIDA:** Fuera de vigencia
- **‚ö´ ANULADA:** Cancelada oficialmente

### Anexo C: Atajos de Teclado

#### Navegaci√≥n General:
- **Ctrl + H:** Ir al Dashboard
- **Ctrl + E:** Ir a Empresas
- **Ctrl + V:** Ir a Veh√≠culos
- **Ctrl + R:** Ir a Resoluciones
- **Ctrl + U:** Ir a Rutas

#### Acciones Comunes:
- **Ctrl + N:** Nuevo registro
- **Ctrl + S:** Guardar cambios
- **Ctrl + F:** Buscar/Filtrar
- **Esc:** Cancelar/Cerrar modal
- **F5:** Refrescar p√°gina

#### Formularios:
- **Tab:** Siguiente campo
- **Shift + Tab:** Campo anterior
- **Enter:** Confirmar (en botones)
- **Ctrl + Enter:** Guardar formulario

---

**üìÖ √öltima actualizaci√≥n:** 26 de Diciembre, 2024  
**üìñ Versi√≥n del manual:** 2.0  
**‚úÖ Estado del sistema:** Completamente funcional

---

*Este manual cubre todas las funcionalidades principales del Sistema DRTC Puno. Para consultas espec√≠ficas o problemas no cubiertos en este documento, contactar al equipo de soporte t√©cnico.*