<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Exportaci√≥n Empresas</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .test-header {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        .test-content {
            padding: 20px;
        }
        
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            background-color: #f8f9fa;
        }
        
        .test-title {
            color: #2c3e50;
            margin-bottom: 15px;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .test-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            padding: 10px;
            background: white;
            border-radius: 4px;
            border-left: 4px solid #28a745;
        }
        
        .test-icon {
            margin-right: 10px;
            font-size: 18px;
        }
        
        .success {
            border-left-color: #28a745;
            color: #155724;
        }
        
        .info {
            border-left-color: #17a2b8;
            color: #0c5460;
        }
        
        .warning {
            border-left-color: #ffc107;
            color: #856404;
        }
        
        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 15px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
        }
        
        .highlight {
            background-color: #fff3cd;
            padding: 2px 4px;
            border-radius: 3px;
            font-weight: bold;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .feature-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }
        
        .feature-icon {
            font-size: 48px;
            margin-bottom: 15px;
            display: block;
        }
        
        .feature-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .feature-description {
            color: #666;
            font-size: 14px;
            line-height: 1.4;
        }
        
        .step {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            margin: 10px 0;
            border-radius: 4px;
        }
        
        .step-number {
            background: #2196f3;
            color: white;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
            font-size: 12px;
        }
        
        .export-types {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .export-type {
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            font-weight: 500;
        }
        
        .export-selected {
            background-color: #d4edda;
            color: #155724;
            border: 2px solid #c3e6cb;
        }
        
        .export-filtered {
            background-color: #d1ecf1;
            color: #0c5460;
            border: 2px solid #bee5eb;
        }
        
        .export-all {
            background-color: #fff3cd;
            color: #856404;
            border: 2px solid #ffeaa7;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-header">
            <h1>üìä EXPORTACI√ìN DE EMPRESAS</h1>
            <p>Funcionalidad completa de exportaci√≥n con selecci√≥n m√∫ltiple y filtrado</p>
        </div>
        
        <div class="test-content">
            <div class="test-section">
                <h2 class="test-title">üéØ FUNCIONALIDADES IMPLEMENTADAS</h2>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <span class="feature-icon">‚òëÔ∏è</span>
                        <div class="feature-title">Selecci√≥n M√∫ltiple</div>
                        <div class="feature-description">
                            Checkbox en cada fila y selecci√≥n masiva con checkbox principal
                        </div>
                    </div>
                    
                    <div class="feature-card">
                        <span class="feature-icon">üîç</span>
                        <div class="feature-title">Exportaci√≥n Filtrada</div>
                        <div class="feature-description">
                            Exporta solo las empresas que coinciden con los filtros aplicados
                        </div>
                    </div>
                    
                    <div class="feature-card">
                        <span class="feature-icon">üìã</span>
                        <div class="feature-title">Exportaci√≥n Seleccionada</div>
                        <div class="feature-description">
                            Exporta √∫nicamente las empresas marcadas con checkbox
                        </div>
                    </div>
                    
                    <div class="feature-card">
                        <span class="feature-icon">üìà</span>
                        <div class="feature-title">Datos Completos</div>
                        <div class="feature-description">
                            Incluye todos los campos relevantes: contacto, estad√≠sticas, etc.
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="test-section">
                <h2 class="test-title">üìã TIPOS DE EXPORTACI√ìN</h2>
                
                <div class="export-types">
                    <div class="export-type export-selected">
                        <h4>üéØ EXPORTACI√ìN SELECCIONADA</h4>
                        <p>Prioridad m√°s alta. Exporta solo las empresas marcadas con checkbox.</p>
                        <small><strong>Activaci√≥n:</strong> Seleccionar una o m√°s empresas</small>
                    </div>
                    
                    <div class="export-type export-filtered">
                        <h4>üîç EXPORTACI√ìN FILTRADA</h4>
                        <p>Prioridad media. Exporta empresas que coinciden con filtros activos.</p>
                        <small><strong>Activaci√≥n:</strong> Aplicar filtros de b√∫squeda o avanzados</small>
                    </div>
                    
                    <div class="export-type export-all">
                        <h4>üìä EXPORTACI√ìN COMPLETA</h4>
                        <p>Por defecto. Exporta todas las empresas registradas en el sistema.</p>
                        <small><strong>Activaci√≥n:</strong> Sin selecci√≥n ni filtros activos</small>
                    </div>
                </div>
            </div>
            
            <div class="test-section">
                <h2 class="test-title">üíª IMPLEMENTACI√ìN T√âCNICA</h2>
                
                <div class="test-item success">
                    <span class="test-icon">‚úÖ</span>
                    <span><strong>Selecci√≥n m√∫ltiple:</strong> Signals para selectedEmpresas con Set&lt;string&gt;</span>
                </div>
                
                <div class="test-item success">
                    <span class="test-icon">‚úÖ</span>
                    <span><strong>Computed properties:</strong> isAllSelected e isIndeterminate reactivos</span>
                </div>
                
                <div class="test-item success">
                    <span class="test-icon">‚úÖ</span>
                    <span><strong>Columna de selecci√≥n:</strong> Agregada a columnConfigs con checkbox</span>
                </div>
                
                <div class="test-item success">
                    <span class="test-icon">‚úÖ</span>
                    <span><strong>L√≥gica de exportaci√≥n:</strong> Prioriza selecci√≥n > filtros > todas</span>
                </div>
                
                <div class="test-item success">
                    <span class="test-icon">‚úÖ</span>
                    <span><strong>Descarga autom√°tica:</strong> Genera archivo Excel con timestamp</span>
                </div>
            </div>
            
            <div class="test-section">
                <h2 class="test-title">üìÑ CAMPOS EXPORTADOS</h2>
                
                <div class="code-block">
const datosExportacion = {
  <span class="highlight">RUC</span>: empresa.ruc,
  <span class="highlight">'Raz√≥n Social'</span>: empresa.razonSocial.principal,
  <span class="highlight">Estado</span>: empresa.estado,
  <span class="highlight">'Tipo de Servicio'</span>: empresa.tipoServicio,
  <span class="highlight">'Direcci√≥n Fiscal'</span>: empresa.direccionFiscal,
  <span class="highlight">'Representante Legal'</span>: nombres + apellidos,
  <span class="highlight">'Email Contacto'</span>: empresa.emailContacto,
  <span class="highlight">'Tel√©fono Contacto'</span>: empresa.telefonoContacto,
  <span class="highlight">'Sitio Web'</span>: empresa.sitioWeb,
  <span class="highlight">'Fecha Registro'</span>: fecha formateada,
  <span class="highlight">Resoluciones</span>: cantidad,
  <span class="highlight">Veh√≠culos</span>: cantidad,
  <span class="highlight">Conductores</span>: cantidad,
  <span class="highlight">Rutas</span>: cantidad,
  <span class="highlight">'Score Riesgo'</span>: empresa.scoreRiesgo,
  <span class="highlight">Observaciones</span>: empresa.observaciones
};
                </div>
            </div>
            
            <div class="test-section">
                <h2 class="test-title">üß™ PASOS PARA PROBAR</h2>
                
                <div class="step">
                    <span class="step-number">1</span>
                    <strong>Exportaci√≥n completa</strong> - Sin seleccionar nada, hacer clic en "EXPORTAR"
                </div>
                
                <div class="step">
                    <span class="step-number">2</span>
                    <strong>Exportaci√≥n filtrada</strong> - Aplicar filtros de b√∫squeda, luego "EXPORTAR"
                </div>
                
                <div class="step">
                    <span class="step-number">3</span>
                    <strong>Selecci√≥n individual</strong> - Marcar checkboxes de empresas espec√≠ficas
                </div>
                
                <div class="step">
                    <span class="step-number">4</span>
                    <strong>Selecci√≥n masiva</strong> - Usar checkbox principal para seleccionar todas
                </div>
                
                <div class="step">
                    <span class="step-number">5</span>
                    <strong>Exportaci√≥n seleccionada</strong> - Con empresas seleccionadas, hacer clic en "EXPORTAR (N)"
                </div>
                
                <div class="step">
                    <span class="step-number">6</span>
                    <strong>Limpiar selecci√≥n</strong> - Usar bot√≥n "LIMPIAR SELECCI√ìN" cuando aparezca
                </div>
            </div>
            
            <div class="test-section">
                <h2 class="test-title">üé® ELEMENTOS DE UI</h2>
                
                <div class="test-item info">
                    <span class="test-icon">‚òëÔ∏è</span>
                    <span><strong>Checkbox principal:</strong> Selecciona/deselecciona todas las empresas visibles</span>
                </div>
                
                <div class="test-item info">
                    <span class="test-icon">‚òëÔ∏è</span>
                    <span><strong>Checkboxes individuales:</strong> Selecci√≥n espec√≠fica por empresa</span>
                </div>
                
                <div class="test-item info">
                    <span class="test-icon">üìä</span>
                    <span><strong>Bot√≥n EXPORTAR din√°mico:</strong> Muestra cantidad seleccionada cuando aplica</span>
                </div>
                
                <div class="test-item info">
                    <span class="test-icon">üóëÔ∏è</span>
                    <span><strong>Bot√≥n LIMPIAR SELECCI√ìN:</strong> Aparece solo cuando hay elementos seleccionados</span>
                </div>
                
                <div class="test-item info">
                    <span class="test-icon">üí¨</span>
                    <span><strong>Confirmaci√≥n de exportaci√≥n:</strong> Dialog con informaci√≥n del tipo de exportaci√≥n</span>
                </div>
                
                <div class="test-item info">
                    <span class="test-icon">üì•</span>
                    <span><strong>Descarga autom√°tica:</strong> Archivo Excel con nombre √∫nico (fecha_hora)</span>
                </div>
            </div>
            
            <div class="test-section">
                <h2 class="test-title">‚ö†Ô∏è CONSIDERACIONES</h2>
                
                <div class="test-item warning">
                    <span class="test-icon">‚ö†Ô∏è</span>
                    <span><strong>Orden de prioridad:</strong> Selecci√≥n > Filtros > Todas las empresas</span>
                </div>
                
                <div class="test-item warning">
                    <span class="test-icon">‚ö†Ô∏è</span>
                    <span><strong>Selecci√≥n se limpia:</strong> Despu√©s de exportar exitosamente</span>
                </div>
                
                <div class="test-item warning">
                    <span class="test-icon">‚ö†Ô∏è</span>
                    <span><strong>Validaci√≥n:</strong> No permite exportar si no hay empresas disponibles</span>
                </div>
                
                <div class="test-item warning">
                    <span class="test-icon">‚ö†Ô∏è</span>
                    <span><strong>Formato de fecha:</strong> Usa formato peruano (dd/MM/yyyy)</span>
                </div>
            </div>
        </div>
    </div>
</body>
</html>