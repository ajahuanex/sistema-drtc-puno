# Environment Configuration for Mesa de Partes
# Copy this file to .env and update with your values

# ============================================
# ENVIRONMENT
# ============================================
ENVIRONMENT=development
# Options: development, staging, production

# ============================================
# DATABASE CONFIGURATION
# ============================================
POSTGRES_DB=mesapartes
POSTGRES_USER=mesapartes_user
POSTGRES_PASSWORD=changeme_secure_password_here

# Database connection pool
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10
DATABASE_POOL_TIMEOUT=30

# ============================================
# REDIS CONFIGURATION
# ============================================
REDIS_PASSWORD=changeme_redis_password_here
REDIS_CACHE_TTL=3600

# ============================================
# SECURITY
# ============================================
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=generate-a-very-secure-random-key-here-min-32-chars
JWT_SECRET_KEY=generate-another-secure-key-here-min-32-chars
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=60
JWT_REFRESH_EXPIRATION_DAYS=7

# ============================================
# CORS CONFIGURATION
# ============================================
CORS_ORIGINS=http://localhost:4200,http://localhost,https://mesapartes.ejemplo.gob.pe
CORS_ALLOW_CREDENTIALS=true

# ============================================
# FILE UPLOAD CONFIGURATION
# ============================================
UPLOAD_DIR=/app/uploads
MAX_UPLOAD_SIZE=10485760
# 10MB in bytes
ALLOWED_EXTENSIONS=pdf,jpg,jpeg,png,docx,xlsx,doc,xls

# ============================================
# EMAIL CONFIGURATION
# ============================================
SMTP_HOST=smtp.ejemplo.gob.pe
SMTP_PORT=587
SMTP_USER=mesapartes@ejemplo.gob.pe
SMTP_PASSWORD=email_password_here
SMTP_FROM=mesapartes@ejemplo.gob.pe
SMTP_FROM_NAME=Mesa de Partes
SMTP_TLS=true
SMTP_SSL=false

# ============================================
# LOGGING CONFIGURATION
# ============================================
LOG_LEVEL=INFO
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FILE=/app/logs/app.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=10

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_PER_HOUR=1000
RATE_LIMIT_ENABLED=true

# ============================================
# WEBSOCKET CONFIGURATION
# ============================================
WEBSOCKET_URL=ws://localhost:8000/ws
# For production: wss://mesapartes.ejemplo.gob.pe/ws

# ============================================
# FRONTEND CONFIGURATION
# ============================================
API_URL=http://localhost:8000/api/v1
# For production: https://mesapartes.ejemplo.gob.pe/api/v1

# ============================================
# MONITORING & METRICS
# ============================================
ENABLE_METRICS=true
METRICS_PORT=9090

# ============================================
# BACKUP CONFIGURATION
# ============================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
# Cron format: minute hour day month weekday
BACKUP_RETENTION_DAYS=30
BACKUP_DIR=/backups

# ============================================
# INTEGRATION SETTINGS
# ============================================
INTEGRATION_TIMEOUT=30
INTEGRATION_MAX_RETRIES=3
INTEGRATION_RETRY_DELAY=5

# ============================================
# PERFORMANCE TUNING
# ============================================
WORKERS=4
# Number of worker processes (typically 2-4 x CPU cores)
WORKER_CLASS=uvicorn.workers.UvicornWorker
WORKER_CONNECTIONS=1000
KEEPALIVE=5

# ============================================
# CACHE CONFIGURATION
# ============================================
CACHE_ENABLED=true
CACHE_DEFAULT_TTL=300
CACHE_MAX_ENTRIES=10000

# ============================================
# SESSION CONFIGURATION
# ============================================
SESSION_LIFETIME=3600
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=lax

# ============================================
# FEATURE FLAGS
# ============================================
ENABLE_WEBSOCKET=true
ENABLE_NOTIFICATIONS=true
ENABLE_INTEGRATIONS=true
ENABLE_REPORTS=true
ENABLE_QR_CONSULTATION=true

# ============================================
# DEVELOPMENT ONLY
# ============================================
DEBUG=false
RELOAD=false
# Set to true only in development

# ============================================
# PRODUCTION ONLY
# ============================================
# SSL_CERT_PATH=/etc/nginx/ssl/fullchain.pem
# SSL_KEY_PATH=/etc/nginx/ssl/privkey.pem
# SENTRY_DSN=https://your-sentry-dsn-here
# SENTRY_ENVIRONMENT=production
